{"remainingRequest":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\node_modules\\_vue-loader@15.10.1@vue-loader\\lib\\index.js??vue-loader-options!D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\src\\views\\urban_weather\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\src\\views\\urban_weather\\details.vue","mtime":1662080216000},{"path":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\node_modules\\_babel-loader@8.3.0@babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\文档\\Baiduwangpanchucun\\共享雨伞系统的设计与实现\\client_home\\node_modules\\_vue-loader@15.10.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgZGl2X3VyYmFuX3dlYXRoZXIgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9kaXZfdXJiYW5fd2VhdGhlci52dWUiOwoJaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOwoJZXhwb3J0IGRlZmF1bHQgewoJCW1peGluczpbbWl4aW5dLAoJCWNvbXBvbmVudHM6ewoJCQlkaXZfdXJiYW5fd2VhdGhlcgoJCX0sCgkJZGF0YSgpewoJCQlyZXR1cm57CgkJCQl1cmxfZ2V0X29iajogIn4vYXBpL3VyYmFuX3dlYXRoZXIvZ2V0X29iaj8iLAoKCQkJCWZpZWxkOiAidXJiYW5fd2VhdGhlcl9pZCIsCgoJCQkJb2JqOiB7CgkJCQl9LAoKCQkJCXF1ZXJ5OiB7CgkJCQkJImRhdGUiOiAiIiwKCQkJCQkiY2l0eV9uYW1lIjogIiIsCgkJCQkJInRlbXBlcmF0dXJlIjogIiIsCgkJCQkJIndlYXRoZXJfZGV0YWlscyI6ICIiLAoJCQkJCSJyZW1hcmtzIjogIiIsCgkJCQkJInVyYmFuX3dlYXRoZXJfaWQiOjAsCgkJCQl9LAoJCQkJLy8g54K56LWeCgkJCQlwcmFpc2U6IDAsCgkJCQkvLyDngrnotZ7nirbmgIEKCQkJCXN0YXRlX3ByYWlzZTogZmFsc2UsCgkJCQkKCQkJfQoJCX0sCgkJbWV0aG9kczp7CgkJCWdldF9vYmpfYWZ0ZXIoanNvbikgewoJCQkJLy8g5Yik5pat5piv5ZCm6I635Y+W5Yiw5pWw5o2uCgkJCQlpZiAoanNvbiAmJiBqc29uLnJlc3VsdCAmJiBqc29uLnJlc3VsdC5vYmopIHsKCQkJCQljb25zb2xlLmxvZyhqc29uLnJlc3VsdC5vYmopCgkJCQkJdmFyIG9iaiA9IGpzb24ucmVzdWx0Lm9iajsKCQkJCQl0aGlzLm9iaiA9IG9iagoJCQkJCS8vIOWinuWKoOeCueWHu+aVsAoJCQkJCS8vIOWIneWni+WMluaUtuiXj+eKtuaAgQoJCQkJCXRoaXMuZ2V0X2NvbGxlY3Qob2JqKTsKCQkJCX0KCQkJfSwKCQkJLyoqCgkJCSAqIOWIneWni+WMluaUtuiXj+eKtuaAgQoJCQkgKiBAcGFyYW0ge09iamVjdH0gb2JqCgkJCSAqLwoJCQlnZXRfY29sbGVjdChvYmopIHsKCQkJCXZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CgoJCQkJdmFyIHF1ZXJ5ID0gewoJCQkJCXNvdXJjZV90YWJsZTogInVyYmFuX3dlYXRoZXIiLAoJCQkJCXNvdXJjZV9maWVsZDogInVyYmFuX3dlYXRoZXJfaWQiLAoJCQkJCXNvdXJjZV9pZDogb2JqWyJ1cmJhbl93ZWF0aGVyX2lkIl0sCgkJCQkJdXNlcl9pZAoJCQkJfTsKCgkJCQl0aGlzLiRnZXQoJ34vYXBpL2NvbGxlY3QvY291bnQ/JywgcXVlcnksIChyZXMpID0+IHsKCQkJCQljb25zb2xlLmxvZyhyZXMpOwoJCQkJCWlmIChyZXMucmVzdWx0IHx8IHJlcy5yZXN1bHQgPT09IDApIHsKCQkJCQkJdmFyIGJsID0gcmVzLnJlc3VsdCA/IHRydWUgOiBmYWxzZTsKCQkJCQkJdGhpcy5zdGF0ZV9jb2xsZWN0ID0gYmw7CgkJCQkJCWNvbnNvbGUubG9nKCLmlLbol4/nirbmgIHvvJoiICsgYmwpOwoJCQkJCX0KCQkJCQllbHNlIGlmKHJlcy5lcnJvcikgewoJCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJIC8qKioqCgkJCSAqIOWIhuS6q+eCueWHuwoJCQkgKiAKCQkJICogICovIAoJCQl0b1NoYXJlKGUpewoJCQkJd2luZG93Lm9wZW4oZSk7CgkJCX0sCgkJCS8qKgoJCQkgKiDmlLnlj5jmlLbol4/nirbmgIEKCQkJICovCgkJCWNoYW5nZV9jb2xsZWN0KCkgewoJCQkJdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKCgkJCQl2YXIgcXVlcnkgPSB7CgkJCQkJc291cmNlX3RhYmxlOiAidXJiYW5fd2VhdGhlciIsCgkJCQkJc291cmNlX2ZpZWxkOiAidXJiYW5fd2VhdGhlcl9pZCIsCgkJCQkJc291cmNlX2lkOiB0aGlzLm9ialsidXJiYW5fd2VhdGhlcl9pZCJdLAoJCQkJCXVzZXJfaWQKCQkJCX07CgoJCQkJLy8g5pS26JeP54q25oCBCgkJCQlpZiAodGhpcy5zdGF0ZV9jb2xsZWN0KSB7CgkJCQkJdGhpcy5zdGF0ZV9jb2xsZWN0ID0gZmFsc2U7CgkJCQkJdGhpcy4kZ2V0KCd+L2FwaS9jb2xsZWN0L2RlbD8nLCBxdWVyeSwgKHJlcykgPT4gewoJCQkJCQlpZihyZXMucmVzdWx0KXsKCQkJCQkJCXRoaXMuJHRvYXN0KCLlj5bmtojmlLbol48iKTsKCQkJCQkJfQoJCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpewoJCQkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuc3RhdGVfY29sbGVjdCA9IHRydWU7CgkJCQkJdGhpcy4kcG9zdCgnfi9hcGkvY29sbGVjdC9hZGQ/JywgcXVlcnksIChyZXMpID0+IHsKCQkJCQkJaWYgKHJlcy5yZXN1bHQpIHsKCQkJCQkJCXRoaXMuJHRvYXN0KCLmlLbol4/miJDlip8iKTsKCQkJCQkJfQoJCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpIHsKCQkJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKCQkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfTsKCQkJfSwKCQl9LAoJCQoJCW1vdW50ZWQoKSB7CgkJCQoJCX0sCgkJCgl9Cg=="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"details.vue","sourceRoot":"src/views/urban_weather","sourcesContent":["<template>\n\t<div class=\"diy_details page_urban_weather\" id=\"urban_weather_details\">\n\t\t<div class='warp'>\n\t\t\t<div class='container'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col'>\n\t\t\t\t\t\t<div class='card_urban_weather'>\n\t\t\t\t\t\t\t<div_urban_weather :obj=\"obj\"></div_urban_weather>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport div_urban_weather from \"@/components/diy/div_urban_weather.vue\";\n\timport mixin from \"@/mixins/page.js\";\n\texport default {\n\t\tmixins:[mixin],\n\t\tcomponents:{\n\t\t\tdiv_urban_weather\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\turl_get_obj: \"~/api/urban_weather/get_obj?\",\n\n\t\t\t\tfield: \"urban_weather_id\",\n\n\t\t\t\tobj: {\n\t\t\t\t},\n\n\t\t\t\tquery: {\n\t\t\t\t\t\"date\": \"\",\n\t\t\t\t\t\"city_name\": \"\",\n\t\t\t\t\t\"temperature\": \"\",\n\t\t\t\t\t\"weather_details\": \"\",\n\t\t\t\t\t\"remarks\": \"\",\n\t\t\t\t\t\"urban_weather_id\":0,\n\t\t\t\t},\n\t\t\t\t// 点赞\n\t\t\t\tpraise: 0,\n\t\t\t\t// 点赞状态\n\t\t\t\tstate_praise: false,\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tget_obj_after(json) {\n\t\t\t\t// 判断是否获取到数据\n\t\t\t\tif (json && json.result && json.result.obj) {\n\t\t\t\t\tconsole.log(json.result.obj)\n\t\t\t\t\tvar obj = json.result.obj;\n\t\t\t\t\tthis.obj = obj\n\t\t\t\t\t// 增加点击数\n\t\t\t\t\t// 初始化收藏状态\n\t\t\t\t\tthis.get_collect(obj);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 初始化收藏状态\n\t\t\t * @param {Object} obj\n\t\t\t */\n\t\t\tget_collect(obj) {\n\t\t\t\tvar user_id = this.user.user_id;\n\n\t\t\t\tvar query = {\n\t\t\t\t\tsource_table: \"urban_weather\",\n\t\t\t\t\tsource_field: \"urban_weather_id\",\n\t\t\t\t\tsource_id: obj[\"urban_weather_id\"],\n\t\t\t\t\tuser_id\n\t\t\t\t};\n\n\t\t\t\tthis.$get('~/api/collect/count?', query, (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.result || res.result === 0) {\n\t\t\t\t\t\tvar bl = res.result ? true : false;\n\t\t\t\t\t\tthis.state_collect = bl;\n\t\t\t\t\t\tconsole.log(\"收藏状态：\" + bl);\n\t\t\t\t\t}\n\t\t\t\t\telse if(res.error) {\n\t\t\t\t\t\tconsole.error(res.error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t /****\n\t\t\t * 分享点击\n\t\t\t * \n\t\t\t *  */ \n\t\t\ttoShare(e){\n\t\t\t\twindow.open(e);\n\t\t\t},\n\t\t\t/**\n\t\t\t * 改变收藏状态\n\t\t\t */\n\t\t\tchange_collect() {\n\t\t\t\tvar user_id = this.user.user_id;\n\n\t\t\t\tvar query = {\n\t\t\t\t\tsource_table: \"urban_weather\",\n\t\t\t\t\tsource_field: \"urban_weather_id\",\n\t\t\t\t\tsource_id: this.obj[\"urban_weather_id\"],\n\t\t\t\t\tuser_id\n\t\t\t\t};\n\n\t\t\t\t// 收藏状态\n\t\t\t\tif (this.state_collect) {\n\t\t\t\t\tthis.state_collect = false;\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\n\t\t\t\t\t\tif(res.result){\n\t\t\t\t\t\t\tthis.$toast(\"取消收藏\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.error){\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\n\t\t\t\t\t\t\tconsole.error(res.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.state_collect = true;\n\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\n\t\t\t\t\t\tif (res.result) {\n\t\t\t\t\t\t\tthis.$toast(\"收藏成功\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.error) {\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\n\t\t\t\t\t\t\tconsole.error(res.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\t\n\t\tmounted() {\n\t\t\t\n\t\t},\n\t\t\n\t}\n</script>\n\n<style>\n.qecode {\n  display: flex;\n  align-content: center;\n  width: 270px;\n  background: white;\n  position: absolute;\n  left: 20%;\n  top: 20px;\n  z-index: 999;\n}\n.qecodeImg {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  text-align: center;\n  padding-top: 10px;\n  margin: 0 auto;\n}\n.btn_share{\n\tdisplay: inline-block;\n\tposition: relative;\n\ttop: 15px;\n\tbackground: rgb(240, 238, 238);\n\tborder: 1px solid #ccc;\n\theight: 38px;\n\tmargin-left: 10px;\n\tpadding: 3px 10px;\n\tcursor: pointer;\n\toverflow: hidden;\n\tborder-radius: 5px;\n}\n.btn_share_icon{\n\twidth: 30px;\n\theight: 28px;\n\tfloat: left;\n\tmargin-right: 10px;\n}\n.share_box{\n\tdisplay: none;\n\tfloat: left;\n}\n.share_box img{\n\twidth: 30px;\n\theight: 28px;\n\tmargin-right: 10px;\n}\n.btn_share:hover .share_box{\n\tdisplay: block;\n}\n</style>\n"]}]}